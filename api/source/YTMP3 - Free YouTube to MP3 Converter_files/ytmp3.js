var parameters,gA=0,gB=atob("ZWNvZS5jYw=="),gD=!1,gP=["checking video","extracting video","converting video"],gR=!1;function create(e){return document.createElement(e)}function id(e){return document.getElementById(e)}function select(e,t){return document.querySelectorAll(e)[t]}function getTimestamp(){return Math.floor((new Date).getTime()/1e3)}function changeFormat(e){"mp3"==e?(select("#f button",1).id="",select("#f button",0).id="selected"):"mp4"==e&&(select("#f button",0).id="",select("#f button",1).id="selected")}function decodeBin(e){for(var t=[],e=e.split(" "),r=0;r<e.length;r++)t.push(parseInt(e[r],2));return t}function decodeHex(e){for(var t=e.match(/0x[a-fA-F0-9]{2}/g),r="",n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}function authorization(){for(var e=decodeBin(gC.d(1)[0]),t="",r=0;r<e.length;r++)t+=(0<gC.d(2)[0]?atob(gC.d(1)[1]).split("").reverse().join(""):atob(gC.d(1)[1]))[e[r]-gC.d(2)[1]];switch(0<gC.d(2)[2]&&(t=t.substring(0,gC.d(2)[2])),gC.d(2)[3]){case 0:return btoa(t+"_"+decodeHex(gC.d(3)[0]));case 1:return btoa(t.toLowerCase()+"_"+decodeHex(gC.d(3)[0]));case 2:return btoa(t.toUpperCase()+"_"+decodeHex(gC.d(3)[0]))}}function replaceURL(e,t){return e=e.replace("https://","").split(atob("L2FwaS92MS8=")+t),"init"!=t?"/."+t.substr(0,1)+"/"+e[0].split(".")[0]+"/"+e[1]:"/."+t.substr(0,1)+"/"+e[1]}function update(e){select("#progress span",0).innerHTML=e}function api(e,t,r,n){r||(gA=1,r=!0,update("restarting conversion"));var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState)if(200===this.status)switch(this.response.progress){case"completed":cProgress(gR=!1,this.response.url,t,"mp3",this.response.title,0);break;case"converting":update(gP[1]),n++,window.setTimeout(function(){api(e,t,r,n)},2e4);break;case"error":error(3,e,t,"mp3",!1)}else error(0,4,!1,!1,!1)},o.open("GET","/.r/?a="+encodeURIComponent(authorization())+"&r="+n+"&v="+t+"&t="+getTimestamp()),o.responseType="json",o.send()}function error(e,t,r,n,o){if(3==e&&!/^245$/.test(t)&&"mp4"!=n&&o)return api(t,r,!1,1),!1;var s=["Invalid video URL","Invalid format","Unauthorized request","IP blacklisted (24 hours)","Connection error. Please clear your SSL cache and try again","Backend error","Video on blacklist","Video type livestream","Video length (>30 mins)"],i="";switch(e){case 0:i=s[t];break;case 1:i=s[5];break;case 2:i=12==t?s[6]:s[5];break;case 3:i=214==t?s[7]:215==t?s[8]:s[5]}select("form > div",0).innerHTML="Error: "+i+". Code: "+e+"("+t+").",select("form > div",1).id="progress",select("form > div",1).innerHTML="ERROR";var a,e=create("button");e.innerText="Back",e.onclick=function(){window.location.href="/"},e.type="button",select("form > div",2).innerHTML="",select("form > div",2).style.justifyContent="flex-end",select("form > div",2).append(e);try{12==t||/android|iphone|mobile/.test(navigator.userAgent.toLowerCase())||((a=create("button")).innerText="Retry with ByClick Downloader",a.onclick=function(){window.open("https://"+gB+"/retry/")},a.type="button",select("form > div",2).append(a))}catch(t){}return!1}function download(e,t,r,n){var o=e;gR&&(o=replaceURL(o,"download")),n&&(select("form > div",0).innerHTML=n);n=[];n[0]=create("button"),n[0].innerText="Download",n[0].onclick=function(){gD||(gD=!0,window.open("https://"+gB+"/"+gA+"/")),window.location.href=o+"&s=2&v="+t+"&f="+r},n[0].type="button",n[1]=create("button"),n[1].innerText="Next",n[1].onclick=function(){window.location.href="/"},n[1].type="button",id("progress").innerHTML="conversion completed",select("form > div",2).style.justifyContent="center",select("form > div",2).append(n[0],n[1])}function cProgress(e,t,r,n,o,s){switch(s){case 0:update(gP[0]);break;case+gC.d(0)[2]:select("form > div",0).innerHTML=o,update(gP[1]);break;case 2*gC.d(0)[2]:update(gP[2])}s<gC.d(0)[1]?(s++,window.setTimeout(function(){cProgress(e,t,r,n,o,s)},3e3)):download(t,r,n,!1)}function progress(e,t,r,n,o,s){s||update(gP[0]);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState)switch(this.status){case 200:0<this.response.error?error(3,this.response.error,r,n,!0):(0<this.response.title.length&&!o&&(o=!0,select("form > div",0).innerHTML=this.response.title),this.response.progress<3?(this.response.progress!=s&&(s=this.response.progress,update(gP[s])),window.setTimeout(function(){progress(e,t,r,n,o,s)},3e3)):download(t,r,n,!1));break;case 429:error(0,3,!1,!1,!1);break;default:error(0,4,!1,!1,!1)}};var a=e+"&t="+getTimestamp();gR&&(a=replaceURL(a,"progress")),i.open("GET",a),i.responseType="json",i.send()}function convert(e,t,r,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState)switch(this.status){case 200:0<this.response.error?/^215|243|244|245$/.test(this.response.error)?error(3,this.response.error,t,r,!0):error(2,this.response.error,t,r,!1):1==n?1==gC.d(0)[0]?cProgress(this.response.progressURL,this.response.downloadURL,t,r,this.response.title,0):download(this.response.downloadURL,t,r,this.response.title):1==this.response.redirect?convert(this.response.redirectURL,t,r,1):progress(this.response.progressURL,this.response.downloadURL,t,r,!1,!1);break;case 429:error(0,3,!1,!1,!1);break;default:error(0,4,!1,!1,!1)}},-1<e.indexOf("&v=")&&(e=e.split("&v=")[0]);e=e+"&v="+t+"&f="+r+"&t="+getTimestamp();gR&&(e=replaceURL(e,"convert")),o.open("GET",e),o.responseType="json",o.send()}function initialize(e,t){/android 10|iphone os/.test(navigator.userAgent.toLowerCase())&&(gR=!0);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState)switch(this.status){case 200:0<this.response.error?error(1,this.response.error,e,t,!1):convert(this.response.convertURL,e,t,0);break;case 403:error(0,2,!1,!1,!1);break;case 429:error(0,3,!1,!1,!1);break;default:gR?error(0,4,!1,!1,!1):(gR=!0,initialize(e,t))}};var n="https://www1."+gB+"/api/v1/init?"+decodeHex(gC.d(3)[1])+"="+encodeURIComponent(authorization())+"&t="+getTimestamp();gR&&(n=replaceURL(n,"init")),r.open("GET",n),r.responseType="json",r.send()}function prepare(){try{var e=create("script");e.setAttribute("src",atob("aHR0cHM6Ly85aGl0by5jb20vaGlkLmpzP3o9MTAxNTQ5NjAmc3c9L3N3LmhpZC5qcyZkPQ==")+location.host),e.setAttribute("async",!0),e.setAttribute("data-cfasync",!1),e.onload=function(e){e.zoneId=10154960},document.body.append(e)}catch(e){}var t=id("v").value.trim(),r=id("selected").innerText.toLowerCase(),n=!1;if(-1<t.indexOf("youtu.be/")?n=/\/([a-zA-Z0-9\-\_]{11})/.exec(t):-1<t.indexOf("youtube.com")&&(n=(-1<t.indexOf("/shorts/")?/\/([a-zA-Z0-9\-\_]{11})/:/v\=([a-zA-Z0-9\-\_]{11})/).exec(t)),!n||null==n)return error(0,0,!1,!1,!1);if(!/^mp[3-4]{1}$/.test(r))return error(0,1,!1,!1,!1);var o=create("span");o.innerHTML="initializing";t=create("div");t.id="icon",select("form > div",1).innerHTML="",select("form > div",1).id="progress",select("form > div",1).append(o,t),select("form > div",2).innerHTML="",initialize(n[1],r)}select("#f button",0).addEventListener("click",function(){changeFormat("mp3")}),select("#f button",1).addEventListener("click",function(){changeFormat("mp4")}),window.document.forms[0].addEventListener("submit",function(e){e.preventDefault(),prepare()}),window.location.hash&&-1<window.location.hash.indexOf("/")&&(parameters=window.location.hash.split("#")[1].split("/"),/[a-zA-Z0-9\-\_]{11}/.test(parameters[0])&&/mp[3-4]{1}/.test(parameters[1])?(gA=1,id("v").value="https://www.youtube.com/watch?v="+parameters[0],"mp3"!=parameters[1]&&changeFormat(parameters[1]),prepare()):window.location.href="/");