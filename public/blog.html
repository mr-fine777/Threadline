<!DOCTYPE html>
<html><head>

	
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TYNRY2CSXL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TYNRY2CSXL');
</script>

<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Threadline</title>
    <link rel="icon" href="img/iconic.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
<style> 

  body {
    background-color: #53216e;
  }

  .post-container-menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    width: 100%;
}

</style>
</head>

<body>
<div class="container">
  <div class="logo">
    <a href="index.html">
      <img src="img/img.png" style="max-height: 75px; user-select: none;">
    </a>
  </div>
        <div class="header-dropdown">
            <button id="menuToggle" class="btn dropdown-toggle" aria-expanded="false" aria-controls="subheaderMenu">☰</button>
        </div>
</div>
<!-- Subheader menu: full-width block under the header with a 4x2 table (4 columns × 2 rows) -->
<div id="subheaderMenu" class="subheader-menu" role="navigation" aria-label="Subheader menu" aria-hidden="true">
    <table class="menu-table" role="presentation">
        <tbody>
            <tr>
                <td>
                    <div class="menu-title">Download</div>
                    <div class="menu-placeholder">
                        <a class="menu-link" href="https://addons.mozilla.org/en-US/firefox/addon/threadline/">Firefox</a>
                        <a class="menu-link" href="https://chromewebstore.google.com/detail/threadline/jaepjofibedopopohhifnaohihambnco">Chrome</a>
                    </div>
                </td>
                <td>
                    <div class="menu-title">Tools</div>
                    <div class="menu-placeholder">
                        <a class="menu-link" href="index.html">Download Classic Clothing</a>
                        <a class="menu-link" href="avatar-corrector.html">Avatar Corrector</a>
                        <a class="menu-link" href="premium.html">Get Premium</a>
                        <a class="menu-link" href="temp/bash/fast/sponsored.html">Sponsored Listings</a>
                    </div>
                </td>
                <td>
                    <div class="menu-title">About</div>
                    <div class="menu-placeholder">
                        <a class="menu-link" href="index.html#about">About Threadline</a>
                        <a class="menu-link" href="blog.html">Blog</a>
                        <a class="menu-link" href="changelog.html">Changelog</a>
                    </div>
                </td>
                <td>
                    <div class="menu-title">Legal</div>
                    <div class="menu-placeholder">
                        <a class="menu-link" href="tos.html#privacy">Privacy</a>
                        <a class="menu-link" href="tos.html#terms">Terms</a>
                        <a class="menu-link" href="contact.html">Contact</a>
                    </div>
                </td>
            </tr>

      <tr>
        <td>
          <!-- Reserved: add more Download-related items here -->
        </td>
        <td>
          <!-- Reserved: add more Tools-related items here -->
        </td>
        <td>
          <!-- Reserved: add more About-related items here -->
        </td>
        <td>
          <!-- Reserved: add more Legal-related items here -->
        </td>
      </tr>
    </tbody>
  </table>
</div>

<script>
(function(){
    const toggle = document.getElementById('menuToggle');
    const menu = document.getElementById('subheaderMenu');
    if (!toggle || !menu) return;
    function setOpen(open) {
        const show = !!open;
        menu.classList.toggle('open', show);
        toggle.setAttribute('aria-expanded', show);
        menu.setAttribute('aria-hidden', !show);
    }
    // sync initial state (menu is hidden by default unless `.open` is present)
    setOpen(menu.classList.contains('open'));
    toggle.addEventListener('click', function(e){
        e.stopPropagation();
        setOpen(!menu.classList.contains('open'));
    });
    document.addEventListener('click', function(e){
        if (!menu.contains(e.target) && e.target !== toggle) setOpen(false);
    });
    document.addEventListener('keydown', function(e){
        if (e.key === 'Escape') setOpen(false);
    });
})();
</script>

<div class="space-between">
</div>
<div class="performer">
<div class="post-container-menu">
<main id="posts">

</main>
</div>
</div>
<div class="bottom-flex">
</div>

<div class="footer-main">
  <div class="footer-holster">
    <div class="footer-left">
      <a href="index.html">
        <img src="img/img.png" style="max-height: 60px; user-select: none;">
      </a>
        <p id="rights">© 2026 Threadline. All rights reserved.</p>
    </div>
    <div class="footer-right">
      <a class="footer-link" href="index.html#about">About</a>
      <a class="footer-link" href="blog.html">Blog</a>
      <a class="footer-link" href="changelog.html">Changelog</a>
      <a class="footer-link" href="tos.html#privacy">Privacy</a>
      <a class="footer-link" href="tos.html#terms">Terms</a>
      <a class="footer-link" href="contact.html">Contact</a>
    </div>
  </div>
</div>
<script>
// Fetch posts from posts/blogpost.json and render them into <main id="posts">
(async function(){
  const container = document.getElementById('posts');
  if (!container) return;
  try {
    const res = await fetch('posts/blogpost.json', {cache: 'no-cache'});
    if (!res.ok) throw new Error('Failed to load posts: ' + res.status);
    const data = await res.json();
    const posts = data && data.BlogPosts ? data.BlogPosts : [];
    posts.forEach(post => {
      const postDiv = document.createElement('div');
      postDiv.className = 'blogpost';

      // Make the whole blogpost clickable
      postDiv.style.cursor = 'pointer';
      postDiv.tabIndex = 0;
      postDiv.setAttribute('role', 'link');
      postDiv.setAttribute('aria-label', post.title || 'Blog post');
      postDiv.addEventListener('click', function() {
        if (post.slug) {
          window.location.href = 'posts.html?slug=' + encodeURIComponent(post.slug);
        }
      });
      postDiv.addEventListener('keydown', function(e) {
        if ((e.key === 'Enter' || e.key === ' ') && post.slug) {
          window.location.href = 'posts.html?slug=' + encodeURIComponent(post.slug);
        }
      });

      // Left: text content
      const contentDiv = document.createElement('div');
      contentDiv.className = 'blogpost-content';

      const h1 = document.createElement('h1');
      h1.textContent = post.title || '';
      contentDiv.appendChild(h1);

      const body = post.body || '';
      // Show as many paragraphs as fit in 750 chars, preserving newlines, cut off at 750
      let charCount = 0;
      let truncated = false;
      body.split(/\r?\n/).forEach(para => {
        if (truncated) return;
        const text = para.trim();
        if (!text) return;
        let remaining = 750 - charCount;
        let displayText = text;
        if (displayText.length > remaining) {
          displayText = displayText.slice(0, remaining).replace(/\s+$/, '') + '...';
          truncated = true;
        }
        charCount += displayText.length;
        const p = document.createElement('p');
        p.textContent = displayText;
        contentDiv.appendChild(p);
      });

      // Right: image
      const imageDiv = document.createElement('div');
      imageDiv.className = 'blogpost-image';
      if (post.image) {
        const img = document.createElement('img');
        img.src = post.image;
        img.alt = post.title || 'Blog post image';
        imageDiv.appendChild(img);
      }

      postDiv.appendChild(contentDiv);
      postDiv.appendChild(imageDiv);
      container.appendChild(postDiv);
    });
  } catch (err) {
    console.error('Error rendering blog posts:', err);
    const msg = document.createElement('p');
    msg.textContent = 'Unable to load blog posts.';
    container.appendChild(msg);
  }
})();
</script>

</body>
</html>
